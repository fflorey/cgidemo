<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CGI DemoApp for firebase</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/5.0.4/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/5.0.4/firebase-auth.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-database.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-messaging.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>

    <script defer src="./access-layer.js"></script>
    <script defer src="./newentry-app.js"></script>

    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script defer src="/js/materialize.min.js"></script>
    <link href="/css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection" />

    <link href="/css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />

</head>

<body>
    <nav class="red darken-4" role="navigation">
        <div class="nav-wrapper container">
            <a id="logo-container" href="./index.html" class="brand-logo">Logo</a>
            <ul class="right hide-on-med-and-down">
                <li>
                    <a id="logout-link" onclick="logoutFunction()">Logout</a>
                </li>
            </ul>

            <ul id="nav-mobile" class="sidenav">
                <li>
                    <a href="#">About</a>
                </li>
            </ul>
            <a href="#" data-target="nav-mobile" class="sidenav-trigger">
                <i class="material-icons">menu</i>
            </a>
        </div>
    </nav>
    <div id="newaddressarea" class="container center">
        <div class="row">
            <form class="col s12">
                <div class="row">
                    <div class="input-field col s12 m4 xl4 l4">
                        <input id="name" type="text" class="">
                        <label for="first_name">Name</label>
                    </div>
                    <div class="input-field col s12  m4 xl4 l4">
                        <input id="mobile" type="text" class="validate">
                        <label for="mobile">Mobile</label>
                    </div>
                    <div class="input-field col s12  m4 xl4 l4">
                        <input id="street" type="text" class="validate">
                        <label for="street">Street</label>
                    </div>
                </div>
                <div class="row s8 center">
                    <a class="waves-effect waves-light btn" onclick="checkAndLeavePage();">Cancel</a>
                    <a class="waves-effect waves-light btn" onclick="newEntry()">Save</a>
                </div>
            </form>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('ready');
        });

        function logoutFunction() {
            console.log('called: logoutFunction');
            var mail = firebase.auth().currentUser.email;
            firebase.auth().signOut();
            console.log('signed out user: ' + mail);
            window.location.href = "./index.html";
        }
    </script>

</body>

</html>